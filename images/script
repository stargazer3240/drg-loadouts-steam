#!/bin/sh

diy=185x
float=150x
crop_mods=550x795+1320+175
dest=../jpg/"{.}".jpg

# Everything inside a table doesn't need to be resized.
fd . "01-Personal/" -e png --base-directory builds/png -x convert {} -crop "$crop_mods" "$dest" \;
fd . "02-Greenbeard/" -e png -E "Perks*" -E 01.Armor_green_build.png --base-directory builds/png -x convert {} -crop 1820x795+50+175 "$dest" \;
fd 01.Armor_green_build.png --base-directory builds/png -x convert {} -crop "$crop_mods" -resize "$float" "$dest" \;
fd . "02-Greenbeard/06-Perks/" -e png --base-directory builds/png -x convert {} "$dest" \;
fd . "03-DIY/" -e png --base-directory builds/png -x convert {} -crop "$crop_mods" -resize "$diy" "$dest" \;
fd -e png --base-directory mod_trees/png -x convert {} -crop "$crop_mods" "$dest" \;
fd Fancy.png --base-directory misc/png -x convert {} -crop 450x700+735+225 -resize "$float" "$dest" \;
fd -e png --base-directory icons/overclocks/png -d 2 -x convert -resize 64 {} "{//}/64px/{/.}_64px_icon.png" \;
fd -e png --base-directory icons/overclocks/png -d 2 -x convert -resize 32 {} "{//}/32px/{/.}_32px_icon.png" \;
fd -e png --base-directory icons/overclocks/png -d 2 -x convert -resize 16 {} "{//}/16px/{/.}_16px_icon.png" \;
fd -e webp --base-directory icons/missions/webp -x convert -resize 16 {} ../png/"{.}".png \;
